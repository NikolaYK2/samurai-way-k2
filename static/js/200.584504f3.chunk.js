"use strict";(self.webpackChunksamurai_way_k2=self.webpackChunksamurai_way_k2||[]).push([[200],{6184:(s,e,r)=>{r.d(e,{F:()=>g});var a=r(9584),t=r(6520);const c="FormTextArea_form__++ufq",n="FormTextArea_error__BNSQL",o="FormTextArea_offError__-BI44";var l=r(1944),i=r(5328),u=r(9608),d=r(9993),m=r(3424),_=r(7884);const g=(0,a.memo)((s=>{const e=(0,m.IT)().pathname.includes("/profile"),[r,g]=(0,a.useState)(""),h=(0,d.Ab)(),{register:v,handleSubmit:x,formState:{errors:f},reset:j}=(0,t.aS)({defaultValues:{sms:""}});return(0,_.jsxs)("form",{onSubmit:x((s=>{console.log(s);const{sms:e}=s;h((0,u.WO)(e,r)),j()})),className:"".concat(c),children:[(0,_.jsx)("textarea",{...v("sms",{required:"\u041f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u043e\u0435"}),placeholder:f.sms?f.sms.message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",className:"".concat(f.sms?n:o," customScroll")}),e&&(0,_.jsx)(i.M,{name:"changeBc",register:v("postImg"),callback:g}),(0,_.jsx)(l.q,{name:s.nameBut,disabled:!1})]})}))},2624:(s,e,r)=>{r.d(e,{m:()=>o});r(9584);var a=r(3424),t=r(5700),c=r(7884);const n=s=>({isAuth:s.loginAuthorization.isAuth});function o(s){return(0,t.Ul)(n)((e=>{const{isAuth:r,...t}=e;return r?(0,c.jsx)(s,{...t}):(0,c.jsx)(a.YX,{to:"/login"})}))}},1200:(s,e,r)=>{r.r(e),r.d(e,{default:()=>k});var a=r(9584);const t="DialogsMessage_dialogs__3ZK2p",c="Users_dialogs__users__kXT6R",n="Users_users__cHsrC",o="Users_active__ZHP0s",l="Users_default__AyM1y",i="Users_users__avatar__WDel5",u="Users_loader__tjwo2";var d=r(9993),m=r(2660),_=r(7300),g=r(96),h=r(164),v=r(7884);const x=(0,a.memo)((()=>{const s=(0,d.Cq)(h.WC),e=(0,d.Ab)(),r=(0,d.Cq)(h.Ko),t=(0,a.useRef)(1),x=(0,a.useRef)(null),f=u;return(0,a.useEffect)((()=>{e((0,g.St)(t.current,r,!0,f,x))}),[]),(0,a.useEffect)((()=>{x.current=new IntersectionObserver((s=>{s.forEach((s=>{s.isIntersecting&&(t.current++,e((0,g.St)(t.current,12,!0,f,x)))}))}),{root:null,rootMargin:"20px",threshold:.8});const s=document.querySelector(".".concat(f));return s&&x.current.observe(s),()=>{x.current&&x.current.disconnect()}}),[]),(0,v.jsxs)("div",{className:"".concat(c," ","customScroll"),children:[s.map((s=>{var e;return(0,v.jsxs)("div",{className:n,children:[(0,v.jsx)("div",{className:i,children:(0,v.jsx)(m.W,{to:"/profile/".concat(s.id),children:(0,v.jsx)("img",{src:(null===(e=s.photos)||void 0===e?void 0:e.small)||_,alt:""})})}),(0,v.jsxs)(m.W,{to:"/messages/".concat(s.name),className:s=>{let{isActive:e}=s;return e?o:l},children:[(0,v.jsx)("span",{children:s.name}),(0,v.jsx)("span",{children:s.followed})]})]},s.id)})),(0,v.jsx)("div",{className:f})]})}));var f=r(5700),j=r(720),M=r(116),p=r(2624);const S="MessageUsers_container__C3bAO",U="MessageUsers_dialogs__messages__aQW5M",b="MessageUsers_dialogs__users__zYDhv";var A=r(6184);const N=(0,j.Jn)((0,f.Ul)((s=>({usersMessages:s.messagesPage.usersMessages})),(s=>({addMessageUsers:e=>{s((0,M.m)(e))}}))),p.m)((s=>{const e=(0,a.useRef)(null);return(0,a.useEffect)((()=>{(()=>{var s;null===(s=e.current)||void 0===s||s.scrollIntoView({behavior:"smooth"})})()}),[s.usersMessages]),(0,v.jsxs)("div",{className:S,children:[(0,v.jsxs)("div",{className:"".concat(U," customScroll"),children:[s.usersMessages.map((s=>(0,v.jsx)("div",{className:b,children:(0,v.jsx)("div",{children:s.sms})},s.id))),(0,v.jsx)("div",{ref:e})]}),(0,v.jsx)(A.F,{messages:s.usersMessages,addMessages:s.addMessageUsers,nameBut:"Send"})]})})),k=()=>(0,v.jsxs)("div",{className:t,children:[(0,v.jsx)(x,{}),(0,v.jsx)(N,{})]})}}]);